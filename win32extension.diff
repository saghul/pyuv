diff --git uv.gyp uv.gyp
index fae7263..dac729b 100644
--- uv.gyp
+++ uv.gyp
@@ -18,6 +18,38 @@
           }],
         ],
       }],
+      ['OS == "win"', {
+          'configurations': {
+            'Release': {
+              'msvs_settings': {
+                'VCCLCompilerTool': {
+                    'target_conditions': [
+                      ['library=="static_library"', {
+                        'RuntimeLibrary': 2, # static release
+                      }, {
+                        'RuntimeLibrary': 2, # debug release
+                      }],
+                    ],
+                  'WholeProgramOptimization': 'false',
+                },
+              },
+            },
+            'Debug': {
+              'msvs_settings': {
+                'VCCLCompilerTool': {
+                    'target_conditions': [
+                      ['library=="static_library"', {
+                        'RuntimeLibrary': 3, # static release
+                      }, {
+                        'RuntimeLibrary': 3, # debug release
+                      }],
+                    ],
+                  'WholeProgramOptimization': 'false',
+                },
+              },
+            },
+          },
+      }],
     ],
   },
 
@@ -33,7 +65,6 @@
       'direct_dependent_settings': {
         'include_dirs': [ 'include' ],
       },
-
       'defines': [
         'HAVE_CONFIG_H'
       ],
